/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/(function () {
  // webpackBootstrap
  /******/
  "use strict";

  /******/
  var __webpack_modules__ = {
    /***/"./src/index.js": (
    /*!**********************!*\
      !*** ./src/index.js ***!
      \**********************/
    /***/
    function _src_indexJs(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      eval("__webpack_require__.r(__webpack_exports__);\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three/examples/jsm/controls/PointerLockControls.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three/examples/jsm/libs/stats.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n\n\n\n\nvar isGameRunning = false; // Track if the game is running\nvar paused = false; // Track if the game is paused\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  var mainButton = document.getElementById('mainButton');\n  if (mainButton) {\n    mainButton.onclick = function () {\n      if (isGameRunning) {\n        resumeGame(); // Resume the game if already started and paused\n      } else {\n        startGame(); // Start the game for the first time\n      }\n    };\n  } else {\n    console.error(\"Main button not found!\");\n  }\n});\nfunction startGame() {\n  controls.lock(); // Lock the pointer for the first time\n  isGameRunning = true;\n  paused = false;\n  document.getElementById('mainButton').innerText = 'Resume Game'; // Change button to 'Resume Game' after start\n  document.getElementById('menu').style.display = 'none'; // Hide the menu\n  animate(); // Start the game animation loop\n}\nfunction resumeGame() {\n  controls.lock(); // Lock the pointer again to resume\n  paused = false;\n  document.getElementById('menu').style.display = 'none'; // Hide the menu\n  animate(); // Resume the animation loop\n}\nfunction pauseGame() {\n  paused = true;\n  document.getElementById('menu').style.display = 'block'; // Show the menu when paused\n}\nvar scene = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\nvar renderer = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n  antialias: true\n});\nrenderer.setSize(window.innerWidth, window.innerHeight);\nrenderer.shadowMap.enabled = true;\nrenderer.shadowMap.type = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\ndocument.body.appendChild(renderer.domElement);\n\n// FPS Counter (Stats.js)\nvar stats = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three/examples/jsm/libs/stats.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\ndocument.body.appendChild(stats.dom);\nvar camera = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(75, window.innerWidth / window.innerHeight, 0.1, 1000);\ncamera.position.set(0, 1.8, 5);\nvar controls = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three/examples/jsm/controls/PointerLockControls.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(camera, document.body);\ndocument.body.addEventListener('click', function () {\n  if (!isGameRunning) return; // Prevent locking controls before the game starts\n  controls.lock();\n});\ncontrols.addEventListener('lock', function () {\n  if (!paused) document.getElementById('menu').style.display = 'none'; // Hide the menu when the pointer is locked\n});\ncontrols.addEventListener('unlock', function () {\n  if (isGameRunning) pauseGame(); // Show the menu when the pointer is unlocked and the game is running\n});\nwindow.addEventListener('resize', function () {\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n});\n\n// Load Babylon.js online skybox textures using CubeTextureLoader\nvar skyboxLoader = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\nvar skyboxTexture = skyboxLoader.load(['https://playground.babylonjs.com/textures/skybox_px.jpg', 'https://playground.babylonjs.com/textures/skybox_nx.jpg', 'https://playground.babylonjs.com/textures/skybox_py.jpg', 'https://playground.babylonjs.com/textures/skybox_ny.jpg', 'https://playground.babylonjs.com/textures/skybox_pz.jpg', 'https://playground.babylonjs.com/textures/skybox_nz.jpg']);\nscene.background = skyboxTexture;\n\n// Physics world\nvar world = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\nworld.gravity.set(0, -9.82, 0);\nworld.broadphase = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\nworld.solver.iterations = 10;\nvar fixedTimeStep = 1 / 120;\nvar maxSubSteps = 3;\n\n// Ground Physics\nvar groundBody = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n  type: Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).STATIC,\n  shape: new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())()\n});\ngroundBody.quaternion.setFromEuler(-Math.PI / 2, 0, 0);\nworld.addBody(groundBody);\n\n// Ground Mesh\nvar textureLoader = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\nvar groundTexture = textureLoader.load('https://threejsfundamentals.org/threejs/resources/images/checker.png');\ngroundTexture.wrapS = groundTexture.wrapT = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\ngroundTexture.repeat.set(10, 10);\nvar groundMaterial = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n  map: groundTexture,\n  metalness: 0.3,\n  roughness: 0.7\n});\nvar ground = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(50, 50), groundMaterial);\nground.rotation.x = -Math.PI / 2;\nground.receiveShadow = true;\nscene.add(ground);\n\n// Wall texture\nvar wallTexture = textureLoader.load('https://dl.polyhaven.org/file/ph-assets/Textures/jpg/2k/brick_wall_006/brick_wall_006_diff_2k.jpg');\nvar wallMaterial = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n  map: wallTexture,\n  metalness: 0.0,\n  roughness: 0.8\n});\n\n// Create walls\nvar wall1 = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(10, 5, 1), wallMaterial);\nwall1.position.set(0, 2.5, -5);\nwall1.castShadow = true;\nwall1.receiveShadow = true;\nscene.add(wall1);\nvar wall1Body = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n  mass: 0,\n  shape: new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(5, 2.5, 0.5))\n});\nwall1Body.position.set(0, 2.5, -5);\nworld.addBody(wall1Body);\nvar wall2 = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(10, 5, 1), wallMaterial);\nwall2.position.set(-5, 2.5, 0);\nwall2.rotation.y = Math.PI / 2;\nwall2.castShadow = true;\nwall2.receiveShadow = true;\nscene.add(wall2);\nvar wall2Body = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n  mass: 0,\n  shape: new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(5, 2.5, 0.5))\n});\nwall2Body.position.set(-5, 2.5, 0);\nwall2Body.quaternion.setFromEuler(0, Math.PI / 2, 0);\nworld.addBody(wall2Body);\n\n// Light setup\nvar hemisphereLight = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(0xddeeff, 0x0f0e0d, 1);\nscene.add(hemisphereLight);\nvar directionalLight = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(0xffffff, 1.5);\ndirectionalLight.position.set(10, 20, 10);\ndirectionalLight.castShadow = true;\nscene.add(directionalLight);\n\n// Cube object with dynamic physics\nvar cubeMaterial = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n  color: 0xff0000\n});\nvar cube = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(1, 1, 1), cubeMaterial);\ncube.position.set(0, 1, 0);\ncube.castShadow = true;\nscene.add(cube);\nvar cubeBody = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n  mass: 2,\n  shape: new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(0.5, 0.5, 0.5))\n});\ncubeBody.position.set(0, 1, 0);\nworld.addBody(cubeBody);\n\n// Sphere object with dynamic physics\nvar sphere = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(0.5, 32, 32), new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n  color: 0x00ff00\n}));\nsphere.position.set(3, 1, 0);\nsphere.castShadow = true;\nscene.add(sphere);\nvar sphereBody = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n  mass: 2,\n  shape: new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(0.5)\n});\nsphereBody.position.set(3, 1, 0);\nworld.addBody(sphereBody);\n\n// Player Physics\nvar playerBody = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n  mass: 5,\n  shape: new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(1)\n});\nplayerBody.position.set(0, 1, 10);\nworld.addBody(playerBody);\nvar moveForward = false,\n  moveBackward = false,\n  moveLeft = false,\n  moveRight = false;\nvar canJump = false;\nvar isSprinting = false;\nvar baseMoveSpeed = 100;\nvar sprintMultiplier = 2;\nvar velocity = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\nvar heldObject = null;\nvar holder = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\nvar pickupDistance = 2.5;\n\n// Event listener for collisions to enable jumping\nplayerBody.addEventListener('collide', function (event) {\n  if (event.body === groundBody) {\n    canJump = true;\n  }\n});\n\n// Input controls\ndocument.addEventListener('keydown', function (event) {\n  switch (event.code) {\n    case 'KeyW':\n      moveForward = true;\n      break;\n    case 'KeyS':\n      moveBackward = true;\n      break;\n    case 'KeyA':\n      moveLeft = true;\n      break;\n    case 'KeyD':\n      moveRight = true;\n      break;\n    case 'ControlLeft':\n      isSprinting = true;\n      break;\n    case 'Space':\n      if (canJump) {\n        playerBody.velocity.y = 10;\n        canJump = false;\n      }\n      break;\n    case 'KeyE':\n      if (heldObject) {\n        releaseObject();\n      } else {\n        pickUpObject();\n      }\n      break;\n    case 'KeyF':\n      if (heldObject) {\n        throwObject();\n      }\n      break;\n  }\n});\ndocument.addEventListener('keyup', function (event) {\n  switch (event.code) {\n    case 'KeyW':\n      moveForward = false;\n      break;\n    case 'KeyS':\n      moveBackward = false;\n      break;\n    case 'KeyA':\n      moveLeft = false;\n      break;\n    case 'KeyD':\n      moveRight = false;\n      break;\n    case 'ControlLeft':\n      isSprinting = false;\n      break;\n  }\n});\n\n// Picking up objects and making them kinematic\nfunction pickUpObject() {\n  var raycaster = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\n  raycaster.setFromCamera(new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(0, 0), camera);\n  var intersects = raycaster.intersectObjects([cube, sphere]);\n  if (intersects.length > 0) {\n    var intersectedObject = intersects[0].object;\n    var body;\n    if (intersectedObject === cube) {\n      body = cubeBody;\n    } else if (intersectedObject === sphere) {\n      body = sphereBody;\n    }\n    var distance = playerBody.position.distanceTo(intersectedObject.position);\n    if (distance <= pickupDistance) {\n      heldObject = body;\n      heldObject.angularVelocity.set(0, 0, 0);\n      heldObject.angularDamping = 1;\n\n      // Disable gravity and set kinematic so the object doesn't affect the player\n      heldObject.type = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).KINEMATIC;\n      heldObject.allowSleep = false;\n      heldObject.gravityScale = 0;\n\n      // Adjust object position smoothly to prevent passing through walls\n      heldObject.collisionResponse = false;\n    }\n  }\n}\n\n// Release held object and make it dynamic again\nfunction releaseObject() {\n  if (heldObject) {\n    heldObject.type = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).DYNAMIC;\n    heldObject.gravityScale = 1;\n    heldObject.angularDamping = 0.1;\n    heldObject.collisionResponse = true;\n    heldObject = null;\n  }\n}\n\n// Throw object with velocity\nfunction throwObject() {\n  if (heldObject) {\n    var throwVelocity = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'cannon-es'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\n    var cameraDirection = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\n    camera.getWorldDirection(cameraDirection);\n    throwVelocity.set(cameraDirection.x * 20, cameraDirection.y * 20, cameraDirection.z * 20);\n    heldObject.velocity.copy(throwVelocity);\n    releaseObject();\n  }\n}\n\n// Movement logic and restrictions\nfunction updatePlayerMovement(delta) {\n  velocity.set(0, 0, 0);\n  var moveSpeed = isSprinting ? baseMoveSpeed * sprintMultiplier : baseMoveSpeed;\n  var forward = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\n  camera.getWorldDirection(forward);\n  var right = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\n  right.crossVectors(forward, camera.up).normalize();\n  if (moveForward) velocity.add(forward.multiplyScalar(moveSpeed * delta));\n  if (moveBackward) velocity.add(forward.multiplyScalar(-moveSpeed * delta));\n  if (moveLeft) velocity.add(right.multiplyScalar(-moveSpeed * delta));\n  if (moveRight) velocity.add(right.multiplyScalar(moveSpeed * delta));\n  playerBody.velocity.x = velocity.x;\n  playerBody.velocity.z = velocity.z;\n  camera.position.copy(playerBody.position);\n  controls.object.position.copy(playerBody.position);\n\n  // Move held object smoothly with the player\n  if (heldObject) {\n    var cameraDirection = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\n    camera.getWorldDirection(cameraDirection);\n    cameraDirection.normalize();\n    holder.copy(camera.position).add(cameraDirection.multiplyScalar(2));\n    heldObject.position.set(holder.x, holder.y, holder.z);\n  }\n}\n\n// Animation loop\nvar clock = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'three'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\nfunction animate() {\n  if (paused) return; // Stop the loop if paused\n\n  var delta = clock.getDelta();\n  world.step(fixedTimeStep, delta, maxSubSteps);\n  updatePlayerMovement(delta);\n  wall1.position.copy(wall1Body.position);\n  wall1.quaternion.copy(wall1Body.quaternion);\n  wall2.position.copy(wall2Body.position);\n  wall2.quaternion.copy(wall2Body.quaternion);\n  cube.position.copy(cubeBody.position);\n  cube.quaternion.copy(cubeBody.quaternion);\n  sphere.position.copy(sphereBody.position);\n  sphere.quaternion.copy(sphereBody.quaternion);\n  stats.update();\n  renderer.render(scene, camera);\n  requestAnimationFrame(animate);\n}\nanimate();\n\n//# sourceURL=webpack://3d_game/./src/index.js?");

      /***/
    })

    /******/
  };
  /************************************************************************/
  /******/ // The require scope
  /******/
  var __webpack_require__ = {};
  /******/
  /************************************************************************/
  /******/ /* webpack/runtime/make namespace object */
  /******/
  (function () {
    /******/ // define __esModule on exports
    /******/__webpack_require__.r = function (exports) {
      /******/if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {
        /******/Object.defineProperty(exports, Symbol.toStringTag, {
          value: 'Module'
        });
        /******/
      }
      /******/
      Object.defineProperty(exports, '__esModule', {
        value: true
      });
      /******/
    };
    /******/
  })();
  /******/
  /************************************************************************/
  /******/
  /******/ // startup
  /******/ // Load entry module and return exports
  /******/ // This entry module can't be inlined because the eval devtool is used.
  /******/
  var __webpack_exports__ = {};
  /******/
  __webpack_modules__["./src/index.js"](0, __webpack_exports__, __webpack_require__);
  /******/
  /******/
})();